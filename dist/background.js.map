{"version":3,"file":"background.js","sources":["../node_modules/fetchql/lib/fetchql.es.js","../src/constants.js","../src/background.js"],"sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** Class to realize fetch interceptors */\nvar FetchInterceptor = function () {\n  function FetchInterceptor() {\n    var _this = this;\n\n    _classCallCheck(this, FetchInterceptor);\n\n    this.interceptors = [];\n\n    this.fetch = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _this.interceptorWrapper.apply(_this, [fetch].concat(args));\n    };\n  }\n\n  /**\n   * add new interceptors\n   * @param {(Object|Object[])} interceptors\n   */\n\n\n  _createClass(FetchInterceptor, [{\n    key: 'addInterceptors',\n    value: function addInterceptors(interceptors) {\n      var _this2 = this;\n\n      var removeIndex = [];\n\n      if (Array.isArray(interceptors)) {\n        interceptors.map(function (interceptor) {\n          removeIndex.push(_this2.interceptors.length);\n          return _this2.interceptors.push(interceptor);\n        });\n      } else if (interceptors instanceof Object) {\n        removeIndex.push(this.interceptors.length);\n        this.interceptors.push(interceptors);\n      }\n\n      this.updateInterceptors();\n\n      return function () {\n        return _this2.removeInterceptors(removeIndex);\n      };\n    }\n\n    /**\n     * remove interceptors by indexes\n     * @param {number[]} indexes \n     */\n\n  }, {\n    key: 'removeInterceptors',\n    value: function removeInterceptors(indexes) {\n      var _this3 = this;\n\n      if (Array.isArray(indexes)) {\n        indexes.map(function (index) {\n          return _this3.interceptors.splice(index, 1);\n        });\n        this.updateInterceptors();\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: 'updateInterceptors',\n    value: function updateInterceptors() {\n      this.reversedInterceptors = this.interceptors.reduce(function (array, interceptor) {\n        return [interceptor].concat(array);\n      }, []);\n    }\n\n    /**\n     * remove all interceptors\n     */\n\n  }, {\n    key: 'clearInterceptors',\n    value: function clearInterceptors() {\n      this.interceptors = [];\n\n      this.updateInterceptors();\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: 'interceptorWrapper',\n    value: function interceptorWrapper(fetch) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      var promise = Promise.resolve(args);\n\n      this.reversedInterceptors.forEach(function (_ref) {\n        var request = _ref.request,\n            requestError = _ref.requestError;\n\n        if (request || requestError) {\n          promise = promise.then(function () {\n            return request.apply(undefined, args);\n          }, requestError);\n        }\n      });\n\n      promise = promise.then(function () {\n        return fetch.apply(undefined, args);\n      });\n\n      this.reversedInterceptors.forEach(function (_ref2) {\n        var response = _ref2.response,\n            responseError = _ref2.responseError;\n\n        if (response || responseError) {\n          promise = promise.then(response, responseError);\n        }\n      });\n\n      return promise;\n    }\n  }]);\n\n  return FetchInterceptor;\n}();\n\n/**\n * GraphQL client with fetch api.\n * @extends FetchInterceptor\n */\n\n\nvar FetchQL = function (_FetchInterceptor) {\n  _inherits(FetchQL, _FetchInterceptor);\n\n  /**\n   * Create a FetchQL instance.\n   * @param {Object} options\n   * @param {String} options.url - the server address of GraphQL\n   * @param {(Object|Object[])=} options.interceptors\n   * @param {{}=} options.headers - request headers\n   * @param {FetchQL~requestQueueChanged=} options.onStart - callback function of a new request queue\n   * @param {FetchQL~requestQueueChanged=} options.onEnd - callback function of request queue finished\n   * @param {Boolean=} options.omitEmptyVariables - remove null props(null or '') from the variables\n   * @param {Object=} options.requestOptions - addition options to fetch request(refer to fetch api)\n   */\n  function FetchQL(_ref3) {\n    var url = _ref3.url,\n        interceptors = _ref3.interceptors,\n        headers = _ref3.headers,\n        onStart = _ref3.onStart,\n        onEnd = _ref3.onEnd,\n        _ref3$omitEmptyVariab = _ref3.omitEmptyVariables,\n        omitEmptyVariables = _ref3$omitEmptyVariab === undefined ? false : _ref3$omitEmptyVariab,\n        _ref3$requestOptions = _ref3.requestOptions,\n        requestOptions = _ref3$requestOptions === undefined ? {} : _ref3$requestOptions;\n\n    _classCallCheck(this, FetchQL);\n\n    var _this4 = _possibleConstructorReturn(this, (FetchQL.__proto__ || Object.getPrototypeOf(FetchQL)).call(this));\n\n    _this4.requestObject = Object.assign({}, {\n      method: 'POST',\n      headers: Object.assign({}, {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }, headers),\n      credentials: 'same-origin'\n    }, requestOptions);\n\n    _this4.url = url;\n\n    _this4.omitEmptyVariables = omitEmptyVariables;\n\n    // marker for request queue\n    _this4.requestQueueLength = 0;\n\n    // using for caching enums' type\n    _this4.EnumMap = {};\n\n    _this4.callbacks = {\n      onStart: onStart,\n      onEnd: onEnd\n    };\n\n    _this4.addInterceptors(interceptors);\n    return _this4;\n  }\n\n  /**\n   * operate a query\n   * @param {Object} options\n   * @param {String} options.operationName\n   * @param {String} options.query\n   * @param {Object=} options.variables\n   * @param {Object=} options.opts - addition options(will not be passed to server)\n   * @param {Boolean=} options.opts.omitEmptyVariables - remove null props(null or '') from the variables\n   * @param {Object=} options.requestOptions - addition options to fetch request(refer to fetch api)\n   * @returns {Promise}\n   * @memberOf FetchQL\n   */\n\n\n  _createClass(FetchQL, [{\n    key: 'query',\n    value: function query(_ref4) {\n      var _this5 = this;\n\n      var operationName = _ref4.operationName,\n          _query = _ref4.query,\n          variables = _ref4.variables,\n          _ref4$opts = _ref4.opts,\n          opts = _ref4$opts === undefined ? {} : _ref4$opts,\n          _ref4$requestOptions = _ref4.requestOptions,\n          requestOptions = _ref4$requestOptions === undefined ? {} : _ref4$requestOptions;\n\n      var options = Object.assign({}, this.requestObject, requestOptions);\n      var vars = void 0;\n      if (this.omitEmptyVariables || opts.omitEmptyVariables) {\n        vars = this.doOmitEmptyVariables(variables);\n      } else {\n        vars = variables;\n      }\n      var body = {\n        operationName: operationName,\n        query: _query,\n        variables: vars\n      };\n      options.body = JSON.stringify(body);\n\n      this.onStart();\n\n      return this.fetch(this.url, options).then(function (res) {\n        if (res.ok) {\n          return res.json();\n        }\n        // return an custom error stack if request error\n        return {\n          errors: [{\n            message: res.statusText,\n            stack: res\n          }]\n        };\n      }).then(function (_ref5) {\n        var data = _ref5.data,\n            errors = _ref5.errors;\n        return new Promise(function (resolve, reject) {\n          _this5.onEnd();\n\n          // if data in response is 'null'\n          if (!data) {\n            return reject(errors || [{}]);\n          }\n          // if all properties of data is 'null'\n          var allDataKeyEmpty = Object.keys(data).every(function (key) {\n            return !data[key];\n          });\n          if (allDataKeyEmpty) {\n            return reject(errors);\n          }\n          return resolve({ data: data, errors: errors });\n        });\n      });\n    }\n\n    /**\n     * get current server address\n     * @returns {String}\n     * @memberOf FetchQL\n     */\n\n  }, {\n    key: 'getUrl',\n    value: function getUrl() {\n      return this.url;\n    }\n\n    /**\n     * setting a new server address\n     * @param {String} url\n     * @memberOf FetchQL\n     */\n\n  }, {\n    key: 'setUrl',\n    value: function setUrl(url) {\n      this.url = url;\n    }\n\n    /**\n     * get information of enum type\n     * @param {String[]} EnumNameList - array of enums' name\n     * @returns {Promise}\n     * @memberOf FetchQL\n     */\n\n  }, {\n    key: 'getEnumTypes',\n    value: function getEnumTypes(EnumNameList) {\n      var _this6 = this;\n\n      var fullData = {};\n\n      // check cache status\n      var unCachedEnumList = EnumNameList.filter(function (element) {\n        if (_this6.EnumMap[element]) {\n          // enum has been cached\n          fullData[element] = _this6.EnumMap[element];\n          return false;\n        }\n        return true;\n      });\n\n      // immediately return the data if all enums have been cached\n      if (!unCachedEnumList.length) {\n        return new Promise(function (resolve) {\n          resolve({ data: fullData });\n        });\n      }\n\n      // build query string for uncached enums\n      var EnumTypeQuery = unCachedEnumList.map(function (type) {\n        return type + ': __type(name: \"' + type + '\") {\\n        ...EnumFragment\\n      }';\n      });\n\n      var query = '\\n      query {\\n        ' + EnumTypeQuery.join('\\n') + '\\n      }\\n      \\n      fragment EnumFragment on __Type {\\n        kind\\n        description\\n        enumValues {\\n          name\\n          description\\n        }\\n      }';\n\n      var options = Object.assign({}, this.requestObject);\n      options.body = JSON.stringify({ query: query });\n\n      this.onStart();\n\n      return this.fetch(this.url, options).then(function (res) {\n        if (res.ok) {\n          return res.json();\n        }\n        // return an custom error stack if request error\n        return {\n          errors: [{\n            message: res.statusText,\n            stack: res\n          }]\n        };\n      }).then(function (_ref6) {\n        var data = _ref6.data,\n            errors = _ref6.errors;\n        return new Promise(function (resolve, reject) {\n          _this6.onEnd();\n\n          // if data in response is 'null' and have any errors\n          if (!data) {\n            return reject(errors || [{ message: 'Do not get any data.' }]);\n          }\n          // if all properties of data is 'null'\n          var allDataKeyEmpty = Object.keys(data).every(function (key) {\n            return !data[key];\n          });\n          if (allDataKeyEmpty && errors && errors.length) {\n            return reject(errors);\n          }\n          // merge enums' data\n          var passData = Object.assign(fullData, data);\n          // cache new enums' data\n          Object.keys(data).map(function (key) {\n            _this6.EnumMap[key] = data[key];\n            return key;\n          });\n          return resolve({ data: passData, errors: errors });\n        });\n      });\n    }\n\n    /**\n     * calling on a request starting\n     * if the request belong to a new queue, call the 'onStart' method\n     */\n\n  }, {\n    key: 'onStart',\n    value: function onStart() {\n      this.requestQueueLength++;\n      if (this.requestQueueLength > 1 || !this.callbacks.onStart) {\n        return;\n      }\n      this.callbacks.onStart(this.requestQueueLength);\n    }\n\n    /**\n     * calling on a request ending\n     * if current queue finished, calling the 'onEnd' method\n     */\n\n  }, {\n    key: 'onEnd',\n    value: function onEnd() {\n      this.requestQueueLength--;\n      if (this.requestQueueLength || !this.callbacks.onEnd) {\n        return;\n      }\n      this.callbacks.onEnd(this.requestQueueLength);\n    }\n\n    /**\n     * Callback of requests queue changes.(e.g. new queue or queue finished)\n     * @callback FetchQL~requestQueueChanged\n     * @param {number} queueLength - length of current request queue\n     */\n\n    /**\n     * remove empty props(null or '') from object\n     * @param {Object} input\n     * @returns {Object}\n     * @memberOf FetchQL\n     * @private\n     */\n\n  }, {\n    key: 'doOmitEmptyVariables',\n    value: function doOmitEmptyVariables(input) {\n      var _this7 = this;\n\n      var nonEmptyObj = {};\n      Object.keys(input).map(function (key) {\n        var value = input[key];\n        if (typeof value === 'string' && value.length === 0 || value === null || value === undefined) {\n          return key;\n        } else if (value instanceof Object) {\n          nonEmptyObj[key] = _this7.doOmitEmptyVariables(value);\n        } else {\n          nonEmptyObj[key] = value;\n        }\n        return key;\n      });\n      return nonEmptyObj;\n    }\n  }]);\n\n  return FetchQL;\n}(FetchInterceptor);\n\nexport default FetchQL;\n","export const USER_STORAGE_KEY = 'user';\r\nexport const DISPLAYNAME_STORAGE_KEY = 'displayname';\r\nexport const DLIVE_BACKEND_URL = 'https://graphigo.prd.dlive.tv/';\r\nexport const DLIVE_FRONTEND_URL = 'https://dlive.tv/';\r\nexport const LOGIN_ROUTE = '/login';\r\nexport const STREAMS_ROUTE = '/streams';\r\nexport const ABOUT_ROUTE = '/about';\r\nexport const MESSAGE_KIND = {\r\n  'UPDATE_USER_INFO': 'UPDATE_USER_INFO',\r\n  'UPDATE_LIVE_STREAMS': 'UPDATE_LIVE_STREAMS'\r\n};\r\n","import FetchQL from '../node_modules/fetchql/lib/fetchql.es.js';\r\nimport * as Constants from './constants.js';\r\n\r\nconst DLIVE_GET_USER_QUERY = `\r\nquery LivestreamPage($displayname: String!, $first: Int, $after: String) {\r\n  userByDisplayName (displayname: $displayname) {\r\n    displayname\r\n    avatar\r\n    id\r\n    username\r\n    livestream {\r\n      id\r\n      permlink\r\n    }\r\n    \r\n    following (\r\n      sortedBy: AZ \r\n      first: $first,\r\n      after: $after\r\n    ) {\r\n      pageInfo {\r\n        endCursor\r\n        hasNextPage\r\n      }\r\n      list {\r\n        avatar\r\n        displayname\r\n        partnerStatus\r\n        id\r\n        username\r\n        displayname\r\n        livestream {\r\n          id\r\n          permlink\r\n          title\r\n          thumbnailUrl\r\n          watchingCount\r\n          category {\r\n            title\r\n          }\r\n        }\r\n        followers {\r\n          totalCount\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`;\r\n\r\nconst DLIVE_GET_USER_FOLLOWING_NEXT_PAGE = `\r\nquery LivestreamPage($displayname: String!, $first: Int, $after: String) {\r\n  userByDisplayName (displayname: $displayname) {\r\n    displayname\r\n    following (\r\n      sortedBy: AZ \r\n      first: $first,\r\n      after: $after\r\n    ) {\r\n      pageInfo {\r\n        endCursor\r\n        hasNextPage\r\n      }\r\n      list {\r\n        avatar\r\n        displayname\r\n        partnerStatus\r\n        id\r\n        username\r\n        displayname\r\n        livestream {\r\n          id\r\n          permlink\r\n          title\r\n          thumbnailUrl\r\n          watchingCount\r\n          category {\r\n            title\r\n          }\r\n        }\r\n        followers {\r\n          totalCount\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`;\r\nconst FOLLOWING_PAGE_SIZE = 20;\r\n\r\nfunction buildDliveQuery () {\r\n  return new FetchQL ({url: Constants.DLIVE_BACKEND_URL });\r\n}\r\n\r\nfunction extractFollowing (response) {\r\n  let user = JSON.parse (localStorage.getItem (Constants.USER_STORAGE_KEY));\r\n  if (!user) { return Promise.reject (user); }\r\n  let followingInfo = response.data.userByDisplayName.following;\r\n  if (!followingInfo) { return Promise.reject ('Following info invalid'); }\r\n  user.following.list = user.following.list.concat (followingInfo.list);\r\n  localStorage.setItem (Constants.USER_STORAGE_KEY, JSON.stringify (user));\r\n  return Promise.resolve (response);\r\n}\r\n\r\nfunction fetchAllFollowing (displayname, first, after) {\r\n  return buildDliveQuery ().query ({\r\n    operationName: 'LivestreamPage',\r\n    variables: {\r\n      displayname: displayname,\r\n      first: first,\r\n      after: after\r\n    },\r\n    query: DLIVE_GET_USER_FOLLOWING_NEXT_PAGE\r\n  }).then (extractFollowing).then (maybeFetchAllFollowing);\r\n}\r\n\r\n// recursively traverse the following results until the end is\r\nfunction maybeFetchAllFollowing (response) {\r\n  let user = response.data.userByDisplayName;\r\n  if (!user) { return Promise.reject('Response invalid'); }\r\n  // end of recursion reached\r\n  if (!user.following.pageInfo.hasNextPage) { return Promise.resolve(); } \r\n  return fetchAllFollowing (user.displayname, FOLLOWING_PAGE_SIZE, user.following.pageInfo.endCursor);\r\n}\r\n\r\nfunction updateUserInfo (respond) {\r\n  let displayname = localStorage.getItem(Constants.DISPLAYNAME_STORAGE_KEY);\r\n  if (!displayname) { respond('No displayname in storage.'); return; }\r\n  \r\n  return new Promise((resolve, reject) => {\r\n    buildDliveQuery ().query ({\r\n      operationName: 'LivestreamPage',\r\n      variables: {\r\n        displayname: displayname,\r\n        first: FOLLOWING_PAGE_SIZE\r\n      },\r\n      query: DLIVE_GET_USER_QUERY\r\n    }).then((response) => {\r\n      let user = response.data.userByDisplayName;\r\n      if (!user) { return reject ('User could not be fetched'); }\r\n      localStorage.setItem (Constants.USER_STORAGE_KEY, JSON.stringify (user));\r\n      maybeFetchAllFollowing(response).finally(() => {\r\n        resolve (localStorage.getItem (Constants.USER_STORAGE_KEY));\r\n      });\r\n    });\r\n  }).finally(respond);\r\n}\r\n\r\nfunction updateLiveStrems (respond) {\r\n  respond('unimplemented feature');\r\n}\r\n\r\n// https://developer.chrome.com/extensions/messaging#simple\r\n// return true allows you to use asynchronicity to respond to the message;\r\nchrome.runtime.onMessage.addListener(function(message, sender, respond) {\r\n  switch (message.kind) {\r\n    case Constants.MESSAGE_KIND.UPDATE_USER_INFO: updateUserInfo(respond); break;\r\n    case Constants.MESSAGE_KIND.UPDATE_LIVE_STREAMS: updateLiveStrems(respond); break;\r\n    default: return false;\r\n  }\r\n\r\n  return true;\r\n});\r\n\r\n"],"names":["Constants.DLIVE_BACKEND_URL","Constants.USER_STORAGE_KEY","Constants.DISPLAYNAME_STORAGE_KEY","Constants.MESSAGE_KIND"],"mappings":"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"}